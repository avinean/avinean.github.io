(function(d,e){var f=e(".module-country-selector");this.CountrySelector={ui:{$countrySelect:f.find(".country-selector-input"),$countryOption:f.find(".country-option"),$codeChangeOneStepCheckout:e("input#codeChangeOneStepCheckout"),$countryCodeChangeOneStepCheckout:e("input#countryCodeChangeOneStepCheckout"),$changeCountryOneStep:e("form#changeCountryOneStep"),$codeChangeCheckoutV2:e("input#codeChangeCheckoutV2"),$countryCodeChangeCheckoutV2:e("input#countryCodeChangeCheckoutV2"),$changeCountryCheckoutV2:e("form#changeCountryCheckoutV2")},
options:f.data("options")||{},init:function(){this.bindEvents();this.subscribeEvents();this.initSelect()},bindEvents:function(){this.ui.$countrySelect.on("change.CountrySelector",this.showDialogChangeCountry.bind(this));this.ui.$countryOption.on("click.CountrySelector",this.handleChangeOption.bind(this))},subscribeEvents:function(){var a=this;d.mediator.subscribe("global:modalChangeCountryClosed",function(b){a.changeCountry({countryCode:b.countryCode,languageCode:b.languageCode,geographicalAreaCode:b.geographicalAreaCode})})},
handleChangeOption:function(a){var b=e(a.currentTarget);a.preventDefault();this.showDialogChangeCountry({countryCode:b.data("country"),languageCode:b.data("lang"),geographicalAreaCode:b.data("geographicalarea")})},initSelect:function(){this.ui.$countrySelect.selectToAutocomplete();this.ui.$countrySelect.next("input").attr("placeholder",this.options.placeholderText)},showDialogChangeCountry:function(a){var b=this.options,c=this.ui;a=a||{};b.currentCountry==a.countryCode?f.removeClass("active"):(a.countryCode||
(c.$countrySelect.val()?a.countryCode=c.$countrySelect.val():a.countryCode="",a.languageCode="en"),"oneStepCheckout"===b.pageClass||"checkoutV2"===b.pageClass?this.changeCountryCheckout(a):this.checkChangeCountry(a))},checkChangeCountry:function(a){var b=this,c=this.ui.$countrySelect.find("option:selected").attr("data-embargoed"),f=this.options;"undefined"!==typeof c&&"true"==c?d.mediator.publish("global:countryChangedToSanctioned"):e.ajax({type:"POST",url:f.changeCountryCheckUrl,data:{code:a.countryCode},
success:function(c){0<c?d.mediator.publish("global:countryChangedToUnsupported",{countryCode:a.countryCode,languageCode:a.languageCode,geographicalAreaCode:a.geographicalAreaCode}):b.changeCountry(a)}})},changeCountry:function(a){var b=this.options;""!=b.countryCode&&e.ajax({type:"POST",url:b.countryActionUrl,data:{code:a.countryCode,languageCode:a.languageCode,geographicalAreaCode:a.geographicalAreaCode,CSRFToken:b.csrfToken},success:function(a){"oneStepCheckout"===b.pageClass?document.write(a):
(d.mediator.publish("global:changeCountryReloadPage"),location.reload(!0))},error:function(a){d.mediator.publish("global:changeCountryReloadPage");location.reload(!0)}})},changeCountryCheckout:function(a){var b=this.ui.$countrySelect.find("option:selected").attr("data-embargoed"),c=this.ui;b?d.mediator.publish("global:countryChangedToSanctioned"):(d.mediator.publish("global:changeCountryReloadPage"),"oneStepCheckout"===this.options.pageClass?(c.$codeChangeOneStepCheckout.val(a.countryCode),c.$countryCodeChangeOneStepCheckout.val(a.languageCode),
c.$changeCountryOneStep.submit()):(c.$codeChangeCheckoutV2.val(a.countryCode),c.$countryCodeChangeCheckoutV2.val(a.languageCode),c.$changeCountryCheckoutV2.submit()))}};this.CountrySelector.init()}).call(window.SAP_STORE=window.SAP_STORE||{},window,jQuery);
$(document).ready(function(){$(".country-select-opener, .flag-icon").on("click",function(d){$(d.target).hasClass("disabled")||(d.preventDefault(),$("#country-selection-container").toggleClass("active").css({width:300,maxWidth:300,left:-200}),$(".country-selector-arrow").css({left:$("li.flag").offset().left-$("#country-selection-container").offset().left+5}),$(".country-selector-input").focus().val(""))});$(document).on("click",function(d){$(d.target).closest(".country-select").length||$(d.target).closest(".flag-icon").length||
$("#country-selection-container").removeClass("active")})});
(function(b,c){var a=c(".module-mobile-country");this.CountrySelectorMobile=c.extend(!0,{},this.CountrySelector,{ui:{$countrySelect:a.find(".countries-mobile"),$countryOption:a.find(".country-option")},options:a.data("options")||{},init:function(){this.bindEvents();this.initSelect()},bindEvents:function(){this.ui.$countrySelect.on("change.CountrySelectorMobile",this.showDialogChangeCountry.bind(this));this.ui.$countryOption.on("click.CountrySelectorMobile",this.handleChangeOption.bind(this))}});this.CountrySelectorMobile.init()}).call(window.SAP_STORE=
window.SAP_STORE||{},window,jQuery);
$(document).ready(function(){$(".mobile-country-select-opener").on("click",function(b){b.preventDefault();$("#mobile-country-selection-container").hasClass("open")?($("#mobile-country-selection-container").toggleClass("open"),$(".mobileBurgerNonCountryContent").show(),$(".right-off-canvas-menu").css({width:"18rem",left:"",bottom:-$(document).height()})):($("#mobile-country-selection-container").toggleClass("open"),$("#mobile-country-selection-container .ui-autocomplete-input").val(""),$(".mobileBurgerNonCountryContent").hide(),
$(".right-off-canvas-menu").css({width:"100%",left:-$(document).width()+$(".right-off-canvas-menu").width()-3,bottom:-$(document).height()}))})});
(function(a,c){this.Modals={ui:{$modalChangeCountry:c("#dialogChangeCountry"),$modalSanctionedCountry:c("#dialogSanctionedCountry"),$continueChangeCountry:c("#continueChangeCountry"),$cancelChangeCountry:c("#cancelChangeCountry"),$contactUsPopup:c("#contactUsPopup")},options:{},init:function(){this.bindEvents();this.subscribeEvents()},bindEvents:function(){this.ui.$continueChangeCountry.on("click.Modals",this.continueChangeCountryHandler.bind(this));this.ui.$cancelChangeCountry.on("click.Modals",
this.closeModalChangeCountry.bind(this));this.onDocumentReady()},onDocumentReady:function(){var b=this;c(document).ready(function(){b.resolveContactUsPopup()})},subscribeEvents:function(){var b=this;a.mediator.subscribe("global:countryChangedToUnsupported",function(a){b.options.changeCountryModalData=a;b.ui.$modalChangeCountry.foundation("reveal","open")});a.mediator.subscribe("global:countryChangedToSanctioned",function(){b.ui.$modalSanctionedCountry.foundation("reveal","open")})},resolveContactUsPopup:function(){this.ui.$contactUsPopup.data("autoDisplay")&&
this.ui.$contactUsPopup.trigger("click")},closeModalChangeCountry:function(a){a.preventDefault();this.ui.$modalChangeCountry.foundation("reveal","close")},continueChangeCountryHandler:function(b){this.closeModalChangeCountry(b);a.mediator.publish("global:modalChangeCountryClosed",this.options.changeCountryModalData)}};this.Modals.init()}).call(window.SAP_STORE=window.SAP_STORE||{},window,jQuery);$(document).ready(function(){$(".helpLink").on("click",function(a){a.preventDefault();$(".help-container, .help-arrow").toggleClass("active")})});
$(document).on("click",function(a){$(a.target).closest(".helpLink").length||$(".help-container, .help-arrow").removeClass("active")});
